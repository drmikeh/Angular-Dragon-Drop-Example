<!DOCTYPE html>
<html>
<head>
  <title>Dragon Drop for AngularJS</title>
  <!-- <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/2.3.1/spruce/bootstrap.min.css"> -->
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <style>
    [btf-dragon] {
      padding: 20px;
      border: 1px solid red;
      height: 200px;
    }
  </style>
</head>
<body ng-app="ExampleApp">

  <div class="container" ng-controller="MainCtrl">

    <div class="row">
      <h1>Dragon Drop Example</h1>
    </div>

    <hr>

    <div class="row">
      <div class="col-md-3">
        <h3>Available</h3>
        <div btf-dragon="item in available">
          <div>
            <button class="button btn-primary" style="margin:3px">{{ item.name }}</button>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <h3>Assigned</h3>
        <div btf-dragon="item in assigned">
          <div>
            <button class="button btn-primary" style="margin:3px">{{ item.name }}</button>
          </div>
        </div>
      </div>
    </div>

    <hr>

    <div class="row">
      <div class="col-md-6">
        <h3>Available</h3>
        <pre>Sum: {{ getSum(available) }}</pre>
        <pre>{{ available | json }}</pre>
      </div>
      <div class="col-md-6">
        <h3>Assigned</h3>
        <pre>Sum: {{ getSum(assigned) }}</pre>
        <pre>{{ assigned | json }}</pre>
      </div>
    </div>

  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
  <script src="bower_components/lodash/dist/lodash.js"></script>
  <script src="bower_components/angular-dragon-drop/dragon-drop.js"></script>
  <script>
    angular.module('ExampleApp', ['btford.dragon-drop']).
      controller('MainCtrl', function ($scope) {
        $scope.available = [
          { name: 'one'  , value: 1 },
          { name: 'two'  , value: 2 },
          { name: 'three', value: 3 }
        ];

        $scope.assigned = [];

        $scope.getSum = function(list) {
          return _.reduce(list, function(acc, item) {
            return acc + item.value;
          }, 0);
        }
      });
  </script>
</body>
</html>
